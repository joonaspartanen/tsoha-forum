{% extends "layout.html" %}

{% block body %}

<h1 class="ui header">Message Forum</h1>

<h3 class="ui header topic-subject">{{ topic.subject }}</h3>

{% for post in topic.posts %}
<div class="ui segment post-wrapper">
  <div class="post-body">
    {{ post.body }}
  </div>
  <div class="ui label" id="likes-label-{{post.id}}"" onclick="handleLike('{{post.id}}')"><i class="heart icon"></i><span id="likes-text-{{post.id}}">{{ post.likes }}</span></div>
  <div class="timestamp">Posted: {{ post.date_created }}</div>
</div>
{% endfor %}

<form class="ui form" method="POST" action="{{ url_for('posts_create', topic_id=topic.id) }}">
  <div class="field">
    <textarea type="text" name="body"></textarea>
  </div>
  <button class="ui primary button" type="submit">Add new post</button>
</form>

{% endblock %}
